<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Enigma Machine Demo</title>
    </head>

    <body>
        <button onClick='
            localStorage.removeItem("plugLastKey");
            localStorage.removeItem("plugBoardSettings");
            localStorage.removeItem("reflector");
            localStorage.removeItem("rotorSettings");

            document.getElementById("output-textbox").value = "";
            document.getElementById(`rotor-slot-A1`).innerText="3";
            document.getElementById(`rotor-slot-A2`).innerText="2";
            document.getElementById(`rotor-slot-A3`).innerText="1";
            document.getElementById(`rotor-slot-A4`).innerText="26";
            document.getElementById(`rotor-slot-A5`).innerText="25";

            document.getElementById(`rotor-slot-B1`).innerText="3";
            document.getElementById(`rotor-slot-B2`).innerText="2";
            document.getElementById(`rotor-slot-B3`).innerText="1";
            document.getElementById(`rotor-slot-B4`).innerText="26";
            document.getElementById(`rotor-slot-B5`).innerText="25";
            
            document.getElementById(`rotor-slot-C1`).innerText="3";
            document.getElementById(`rotor-slot-C2`).innerText="2";
            document.getElementById(`rotor-slot-C3`).innerText="1";
            document.getElementById(`rotor-slot-C4`).innerText="26";
            document.getElementById(`rotor-slot-C5`).innerText="25";

            var cables = document.getElementsByTagName("div");
            
            for (var i = 0; i < cables.length; i++) {
                if (cables[i].style.position === "absolute") {
                    cables[i].remove();
                }
            }
        '> refresh </button>

        <div class="split">
            <div class="keyboards">
                <div class="keyboard lightboard">
                    <div class="row-1">
                        <span>Q</span>
                        <span>W</span>
                        <span>E</span>
                        <span>R</span>
                        <span>T</span>
                        <span>Y</span>
                        <span>U</span>
                        <span>I</span>
                        <span>O</span>
                        <span>P</span>
                    </div>
        
                    <div class="row-2">
                        <span>A</span>
                        <span>S</span>
                        <span>D</span>
                        <span>F</span>
                        <span>G</span>
                        <span>H</span>
                        <span>J</span>
                        <span>K</span>
                        <span>L</span>
                    </div>
        
                    <div class="row-3">
                        <span>Z</span>
                        <span>X</span>
                        <span>C</span>
                        <span>V</span>
                        <span>B</span>
                        <span>N</span>
                        <span>M</span>
                    </div>
                </div>
        
                <div class="keyboard pressboard">
                    <div class="row-1">
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">Q</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">W</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">E</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">R</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">T</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">Y</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">U</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">I</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">O</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">P</button>
                    </div>
        
                    <div class="row-2">
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">A</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">S</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">D</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">F</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">G</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">H</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">J</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">K</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">L</button>
                    </div>
        
                    <div class="row-3">
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">Z</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">X</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">C</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">V</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">B</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">N</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">M</button>
                    </div>
                </div>
            </div>

            <div class="settings">
                <div class="rotor-settings">
                    <div class="rotor-column" id="rotor-column-C">
                        <div class="rotor-number" id="rotor-slot-C1">3</div>
                        <div class="rotor-number" id="rotor-slot-C2">2</div>
                        <div class="rotor-number highlighted" id="rotor-slot-C3">1</div>
                        <div class="rotor-number" id="rotor-slot-C4">26</div>
                        <div class="rotor-number" id="rotor-slot-C5">25</div>
                    </div>

                    <div class="rotor-column" id="rotor-column-B">
                        <div class="rotor-number" id="rotor-slot-B1">3</div>
                        <div class="rotor-number" id="rotor-slot-B2">2</div>
                        <div class="rotor-number highlighted" id="rotor-slot-B3">1</div>
                        <div class="rotor-number" id="rotor-slot-B4">26</div>
                        <div class="rotor-number" id="rotor-slot-B5">25</div>

                    </div>

                    <div class="rotor-column" id="rotor-column-A">
                        <div class="rotor-number" id="rotor-slot-A1">3</div>
                        <div class="rotor-number" id="rotor-slot-A2">2</div>
                        <div class="rotor-number highlighted" id="rotor-slot-A3">1</div>
                        <div class="rotor-number" id="rotor-slot-A4">26</div>
                        <div class="rotor-number" id="rotor-slot-A5">25</div>
                    </div>
                </div>

                
                <div class="keyboard plugboard">
                    <div class="row-1">
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">Q</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">W</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">E</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">R</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">T</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">Y</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">U</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">I</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">O</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">P</button>
                    </div>
        
                    <div class="row-2">
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">A</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">S</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">D</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">F</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">G</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">H</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">J</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">K</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">L</button>
                    </div>
        
                    <div class="row-3">
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">Z</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">X</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">C</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">V</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">B</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">N</button>
                        <button onClick="for(var e=document.getElementsByClassName('lightboard')[0],t=document.getElementsByClassName('plugboard')[0],o=e.getElementsByTagName('span'),n=t.getElementsByTagName('button'),r=document.getElementById('output-textbox'),l={},a={},s=0;s<o.length;s++)l[o[s].innerText]=o[s];for(s=0;s<n.length;s++)a[n[s].innerText]=n[s];var g={},i={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ',3],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE',12],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO'],R:[1,'J','YRUHQSLDPXNGOKMIEBFZCWVJAT']},m={},c={},u={};function f(e,t){e&&localStorage.setItem('plugBoardSettings',JSON.stringify(e)),t&&localStorage.setItem('rotorSettings',JSON.stringify(t)),console.log(JSON.stringify(m),JSON.stringify(c),JSON.stringify(u))}function d(){var e=JSON.parse(localStorage.getItem('plugBoardSettings')),t=JSON.parse(localStorage.getItem('rotorSettings'));m=e||g,u=t||i}function y(){p(u.A),v('A'),u.A[0]===u.A[3]&&(p(u.B),v('B'),u.B[0]===u.B[3]&&(p(u.C),v('C')))}function v(e){var t=u[e][0],o=document.getElementById(`rotor-slot-${e}1`),n=document.getElementById(`rotor-slot-${e}2`),r=document.getElementById(`rotor-slot-${e}3`),l=document.getElementById(`rotor-slot-${e}4`),a=document.getElementById(`rotor-slot-${e}5`);o.innerText=(t+2)%26==0?26:(t+2)%26,n.innerText=(t+1)%26==0?26:(t+1)%26,r.innerText=t,l.innerText=(t-1)%26==0?26:(t-1)%26,a.innerText=(t-2)%26==0?26:(t-2)%26,a.innerText<0&&(a.innerText=25)}function p(e){e[0]=e[0]%26+1;for(var t='',o=0;o<e[2].length;o++)t+=o%2==0?e[2][(o+2)%e[2].length]:e[2][o];e[2]=t}function S(e){var t=m[e]||e;for(var o in m)if(m[o]===e){t=o;break}return t}function B(e,t){var o=e[2].indexOf(t);return o=o%2==0?o-1:o+1,(o%=26)<0&&(o=25),e[2][o]}function I(e){var t=B(u.A,e),o=B(u.B,t),n=B(u.C,o),r=B(u.R,n),l=B(u.C,r),a=B(u.B,l);return B(u.A,a)}function T(){d();var e=event.target.innerText;y(),e=S(e),e=S(e=I(e));var t=l[e];t.style.backgroundColor='yellow',setTimeout((function(){t.style.backgroundColor='gray'}),750),r.value+=e,f(m,u)}function E(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),r.value=''}function h(){var e=event.target.innerText,t=localStorage.getItem('plugLastKey');if(!t||t===e||m[e]||m[t])if(m[e]){var o=m[e]||m[t],n='';m[e]?(delete m[e],n=`${e}${o}`):(delete m[t],n=`${o}${t}`),delete m[o],console.log(n),(r=document.getElementsByClassName(n)[0]).remove(),f(m,null),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',e);else{console.log(t),console.log(a,a[t]);var r,l=a[t],s=a[e];(r=document.createElement('div')).style.position='absolute',r.style.width='6px',r.style.backgroundColor='black',r.className=`${t}${e}`;var g=l.offsetLeft+l.offsetWidth/2,i=l.offsetTop+l.offsetHeight/2,c=s.offsetLeft+s.offsetWidth/2,u=s.offsetTop+s.offsetHeight/2,d=Math.sqrt(Math.pow(c-g,2)+Math.pow(u-i,2));r.style.height=d+'px',r.style.left=g+'px',r.style.top=i+'px';var y=Math.atan2(u-i,c-g)-Math.PI/2;r.style.transformOrigin='center top',r.style.transform='rotate('+y+'rad)',m[t]=e,m[e]=t,f(m,null),document.body.appendChild(r),localStorage.removeItem('plugLastKey')}}window.onload=E;var x=event.target;'keyboard plugboard'===x.parentElement.parentElement.className?h():T();">M</button>
                    </div>
                </div>
            </div>
        </div>

        <textarea id="output-textbox" readonly></textarea>
    </body>

    <style>
        .keyboard {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .row-1 {
            display: flex;
        }

        .pressboard button {
            padding: 10px;
            margin: 5px;
            font-size: 16px;
        }

        .plugboard button {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            font-size: 16px;
            border: 1px solid black;
            border-radius: 4px;
            background-color: gray;
        }

        .lightboard span {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            font-size: 16px;
            border: 1px solid black;
            border-radius: 4px;
            background-color: gray;
            
        }

        .split {
            display: flex;
            flex-direction: row;
            justify-content: center;
        }

        .keyboards {
            margin: 20px;
        }

        .settings {
            margin: 20px;
        }

        .rotor-settings {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .rotor-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-inline: 20px;
        }

        .rotor-number {
            width: 20px;
            height: 20px;
            border: 1px solid black;
            margin: 5px;
            text-align: center;
        }

        .highlighted {
            background-color: yellow;
        }

        #output-textbox {
            margin-top: 20px;
            padding: 10px;
            font-size: 16px;
            margin-left: auto;
            margin-right: auto;
            resize: none;
            display: block;
        }
    </style>

    
</html>