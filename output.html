<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Enigma Machine Demo</title>
    </head>

    <body>
        <div class="split">
            <div class="keyboards">
                <div class="keyboard lightboard">
                    <div class="row-1">
                        <span>Q</span>
                        <span>W</span>
                        <span>E</span>
                        <span>R</span>
                        <span>T</span>
                        <span>Y</span>
                        <span>U</span>
                        <span>I</span>
                        <span>O</span>
                        <span>P</span>
                    </div>
        
                    <div class="row-2">
                        <span>A</span>
                        <span>S</span>
                        <span>D</span>
                        <span>F</span>
                        <span>G</span>
                        <span>H</span>
                        <span>J</span>
                        <span>K</span>
                        <span>L</span>
                    </div>
        
                    <div class="row-3">
                        <span>Z</span>
                        <span>X</span>
                        <span>C</span>
                        <span>V</span>
                        <span>B</span>
                        <span>N</span>
                        <span>M</span>
                    </div>
                </div>
        
                <div class="keyboard pressboard">
                    <div class="row-1">
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">Q</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">W</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">E</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">R</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">T</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">Y</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">U</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">I</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">O</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">P</button>
                    </div>
        
                    <div class="row-2">
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">A</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">S</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">D</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">F</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">G</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">H</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">J</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">K</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">L</button>
                    </div>
        
                    <div class="row-3">
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">Z</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">X</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">C</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">V</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">B</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">N</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">M</button>
                    </div>
                </div>
            </div>

            <div class="settings">
                <div class="keyboard plugboard">
                    <div class="row-1">
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">Q</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">W</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">E</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">R</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">T</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">Y</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">U</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">I</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">O</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">P</button>
                    </div>
        
                    <div class="row-2">
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">A</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">S</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">D</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">F</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">G</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">H</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">J</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">K</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">L</button>
                    </div>
        
                    <div class="row-3">
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">Z</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">X</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">C</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">V</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">B</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">N</button>
                        <button onClick="for(var t=document.getElementsByClassName('lightboard')[0],e=document.getElementsByClassName('plugboard')[0],o=t.getElementsByTagName('span'),r=e.getElementsByTagName('button'),a=document.getElementById('output-textbox'),l={},n={},g=0;g<o.length;g++)l[o[g].innerText]=o[g];for(g=0;g<r.length;g++)n[r[g].innerText]=r[g];var s={},i={A:'Y',B:'R',C:'U'},f={A:[1,'Q','EKMFLGDQVZNTOWYHXUSPAIBRCJ'],B:[1,'E','AJDKSIRUXBLHWTMCQGZNPYFVOE'],C:[1,'V','BDFHJLCPRTXVZNYEIWGAKMUSQO']},c={},u={},m={};function S(t,e,o){t&&localStorage.setItem('plugBoardSettings',JSON.stringify(t)),e&&localStorage.setItem('reflector',JSON.stringify(e)),o&&localStorage.setItem('rotorSettings',JSON.stringify(o))}function p(){var t=JSON.parse(localStorage.getItem('plugBoardSettings')),e=JSON.parse(localStorage.getItem('reflector')),o=JSON.parse(localStorage.getItem('rotorSettings'));c=t||s,u=e||i,m=o||f,console.log(JSON.stringify(c),JSON.stringify(u),JSON.stringify(m))}function y(t){t[0]=t[0]%26+1}function d(t){return c[t]||t}function v(t,e){var o=t[0]-1;return t[2][(e.charCodeAt(0)-65+o)%26]}function I(t){return u[t]||t}function h(t){y(m.C),m.C[0]%26==0&&(y(m.B),m.B[0]%26==0&&y(m.A));var e=v(m.A,t),o=v(m.B,e),r=v(m.C,o),a=I(r);v(m.C,a),v(m.B,r);return v(m.A,o)}function B(){p();var t=event.target.innerText;t=d(t),t=d(t=h(t));var e=l[t];e.style.backgroundColor='yellow',setTimeout((function(){e.style.backgroundColor='gray'}),750),a.value+=t}function N(){localStorage.removeItem('plugLastKey'),localStorage.removeItem('plugBoardSettings'),localStorage.removeItem('reflector'),localStorage.removeItem('rotorSettings'),a.value=''}function C(){var t=event.target.innerText,e=localStorage.getItem('plugLastKey');if(e&&e!==t){console.log(e),console.log(n,n[e]);var o=n[e],r=n[t],a=document.createElement('div');a.style.position='absolute',a.style.width='6px',a.style.backgroundColor='black';var l=o.offsetLeft+o.offsetWidth/2,g=o.offsetTop+o.offsetHeight/2,s=r.offsetLeft+r.offsetWidth/2,i=r.offsetTop+r.offsetHeight/2,f=Math.sqrt(Math.pow(s-l,2)+Math.pow(i-g,2));a.style.height=f+'px',a.style.left=l+'px',a.style.top=g+'px';var u=Math.atan2(i-g,s-l)-Math.PI/2;a.style.transformOrigin='center top',a.style.transform='rotate('+u+'rad)',c[e]=t,S(c,null,null),document.body.appendChild(a),localStorage.removeItem('plugLastKey')}else localStorage.setItem('plugLastKey',t)}window.onload=N;var O=event.target;'keyboard plugboard'===O.parentElement.parentElement.className?C():B();">M</button>
                    </div>
                </div>
            </div>
        </div>
        

        <textarea id="output-textbox" readonly></textarea>

        

    </body>

    <style>
        .keyboard {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .row-1 {
            display: flex;
        }

        .pressboard button {
            padding: 10px;
            margin: 5px;
            font-size: 16px;
        }

        .plugboard button {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            font-size: 16px;
            border: 1px solid black;
            border-radius: 4px;
            background-color: gray;
        }

        .lightboard span {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            font-size: 16px;
            border: 1px solid black;
            border-radius: 4px;
            background-color: gray;
        }

        .split {
            display: flex;
            flex-direction: row;
            justify-content: center;
        }

        .keyboards {
            margin: 20px;
        }

        .settings {
            margin: 20px;
        }

        #output-textbox {
            margin-top: 20px;
            padding: 10px;
            font-size: 16px;
            margin-left: auto;
            margin-right: auto;
            resize: none;
            display: block;
        }
    </style>

    
</html>